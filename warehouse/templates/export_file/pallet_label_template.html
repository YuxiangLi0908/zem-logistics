{% block content %}
{% load custom_filters %}
<style>
    @page {
            size: portrait; 
            margin: 20mm;
        }
    
    @media print {
        .page-break {
            page-break-before: always;
            justify-content: left;
            {% comment %} align-items: center; {% endcomment %}
            {% comment %} min-height: 100%; {% endcomment %}
            margin:10px;
        }

        .page-break.first-page {
            page-break-before: auto;
        }

        .text-container {           
            {% comment %} height: 100%; {% endcomment %}
            padding-top: 10px;
            text-align:left;
            padding-left: 0;
        }

        .text-container.right {
            text-align: right;
            height: 100%;
            padding-right: 10px;
        }
        
        .small-text {
            font-size: 40px;
            line-height: 3;
            font-family: Times New Roman;
            margin-bottom: 0;
            text-align: left;
            
        }
        .small-text.center{
            font-size: 50px;
            font-family: Times New Roman;
            margin-bottom: 0;
            text-align: center;
        }
        .huge-text {
            font-size: 100px;
            font-family: Times New Roman;             
            text-align: center;  
            margin-bottom: -10px;
            padding-left: 30px;   
            padding-right: 30px;  
        }   
        .table {
            border-collapse: collapse;  
        }   
        
    }
</style>

<body>
{% for d in data %}
<div class="page-break {% if forloop.first %}first-page{% endif %}">
    <div class="text-container">       
        
        <p class="small-text">Pallet ID Barcode</p>
        <img src="data:image/png;base64,{{ d.barcode }}">
        
        <table border="none">
            <tr style="border-top: 1px solid black;">
                <td class="small-text"><i>House ID</i></td>
            </tr>
            <tr>
                <td class="small-text center">107660-31</td>
            </tr>
        </table>
        
        <table border="none">
            <tr style="border-top: 1px solid black;">
                <td colspan="2" class="small-text" style="border-right: 1px solid black;"><i>Customer</i></td>
                <td class="small-text" style="text-align: center;"><i>Date</i></td>
            </tr>
            <tr style="border-bottom: 1px solid black;">
                <td colspan="2" class="small-text" style="border-right: 1px solid black; "><b>{{d.customer}}</b></td>
                <td class="small-text" style="text-align: center;"><b>{{d.date}}</b></td>
            </tr>
        </table>
        <table border="none">
            <tr>
                <td class="small-text"><i>Container No.</i></td>
            </tr>
            <tr style="border-bottom: 1px solid black;">
                <td class="small-text center">
                    <span class="small-text center">{{ d.container_number|slice_string:'front' }}</span>
                    &nbsp;&nbsp;                    
                    <span class="huge-text"><b>{{ d.container_number|slice_string:'back' }}</b></span>
                </td>
            </tr>
        </table>

        <table border="none">
            <tr>
                <td class="small-text"><i>Ship To</i></td>
            </tr>
            <tr style="border-bottom: 1px solid black;">
                <td class="small-text center">
                    <p style="font-size: 120px; text-align: center;"><b>{{ d.destination }}</b><p>
                </td>
            </tr>
        </table>
        
        
        <table border="none">
            <tr style="border-bottom: 1px solid black;">
                <td colspan="2" class="small-text">Qty</td>
                <td class="small-text" style="padding-top:10px; text-align:right;">/{{ d.pcs }}</td>
            </tr>
        </table>
</div>
{% endfor %}
</body>
{% endblock %}